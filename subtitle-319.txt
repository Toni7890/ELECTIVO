Así que antes del almuerzo desarrollamos un modelo lógico, después del almuerzo desarrollamos un modelo físico. Lo implementamos en la base de datos y luego nos fuimos a casa a pasar la noche. Y ahora es la mañana siguiente y es el momento de insertar algunos datos en nuestras tablas. Ahora, tienes que recordar todas las claves, los campos y cosas por el estilo. Al igual que insertamos datos desde las cosas simples externas a las más centrales, haremos lo mismo cuando insertemos datos. ¿Está bien? Así que utilizamos el INSERT INTO. Y este es un buen momento para señalar que las palabras clave dentro de SQL, como insert into, no importan las mayúsculas y minúsculas. Los nombres de las tablas y los nombres de las columnas pueden importar o no, y los datos reales que introduzcas distinguen entre mayúsculas y minúsculas porque son tus datos. Así que voy a escribir INSERT INTO Artist. Y lo más importante aquí es que no especificamos el campo de identificación. Así que, si recuerdas, en la tabla de artistas tenemos un campo de identificación y un campo de nombre. Pero si nos fijamos en esto, el campo de identificación es un campo que se genera automáticamente. La verdad es que no se muestra muy bien porque no tenemos un tipo. Por lo tanto, el campo de identificación se genera automáticamente. Así que, cuando escribo este SQL, no necesito especificar el identificador porque, como parte de nuestro contrato, hicimos un contrato con una base de datos que decía: «Tú lo asignas». Así que ahora voy a ejecutar esto: INSERT INTO Artist con el nombre de Led Zeppelin. Y si luego navegamos por los datos y echamos un vistazo al artista, se le añade el número 1. Bastante predecible. Puedes adivinar dónde va a ser la próxima, así que lo siguiente que haremos será insertar a otro artista, vamos a insertar a AC/DC. E insertamos eso. Ahora, si volvemos a echar un vistazo a los datos, obtenemos 2. Y si hiciéramos un nuevo registro aquí, nos proporcionaría esto automáticamente, ¿verdad? Quiero decir, nos permitiría cambiar esto, pero querría elegir el siguiente número 3. Así que lo que hemos hecho aquí es insertar el registro, pero también hemos establecido un número nuevo para esta base de datos. 1 significa Led Zepplin y 2 significa AC/DC. ¿Está bien? Entonces, lo siguiente que vamos a hacer es insertar en el género, trabajando hacia afuera, e insertar el valor Rock y el valor Metal, y ahora les voy a mostrar un pequeño truco. De hecho, en esta interfaz de usuario para la mayoría de estas cosas, no solo en esta, puedes poner más de un comando siempre y cuando pongas un punto y coma al final del mismo. Así que, si lo he hecho bien, voy a poner punto y coma al final. Así que voy a hacer un INSERT INTO Genre of Rock y un INSERT INTO Genre of Metal y voy a ejecutar el SQL. Oh, me pregunto si lo hice dos veces. Lo hice. Así que simplemente borraré este registro. Adiós. Elimina ese registro. Adiós. Hice dos encartes y pulsé el botón dos veces, así que acabé con dos copias. Así que para el resto de esta conferencia, Rock es el valor 1 y Metal es el valor 2. Y ahora, cuando hacemos la tabla Track, no tenemos que poner Rock, Rock, Rock , Rock, Rock, Rock, simplemente ponemos 1, 1, 1. Como 1 no es una cadena sino un número, resulta que está bien. Ahora vamos a echar un vistazo al álbum y esta es la primera situación en la que tenemos que hacer una clave principal, una clave foránea, ¿verdad? Así que tenemos una tabla de álbumes. Y el álbum tiene una clave principal que se generará automáticamente para nosotros. Y una clave externa llamada artist_id, porque el álbum apunta al artista. Y solo añadimos datos en el punto inicial de estas flechas, y eso es lo que estamos haciendo. Así que este lo tenemos que poner en el título, pero no tenemos que poner el identificador, así que no tenemos que ponerlo, sino que tenemos que poner explícitamente artist_id. Así que cuando lo insertes en el álbum tendrás un título y luego tendremos un artist_id. Este número tenemos que recordar que el 2 era AC/DC y el 1 era Led Zeppelin. Ahora, cuando hacemos esto a mano es un poco complicado y te encuentras dando vueltas de un lado a otro para recordar : oh, ¿cuál era Led Zeppelin, cuál era AC/DC? Y parece que a corto plazo sería más fácil meter el hilo, pero eso es todo lo que estamos intentando evitar. ¿Vale? Así que para las claves foráneas tenemos que poner los números de forma explícita porque nosotros o el código que escribimos tenemos que recordarlos. Así que recordar cuáles son estos números, el 2 y el 1, es mucho más fácil de recordar para un programa que para ti recordar cómo hacerlo a mano. Normalmente no insertarías estas cosas, tendrías un código que las insertara, y es muy fácil decir: oh, acabo de insertar Género, simplemente inserté Rock, y obtuve un 2. Así que, en realidad, puedes entenderlo, así que tú, el humano, no tienes que recordar esto. Así que vamos a ejecutar estos. Este es el primero que funciona, y pondré un punto y coma aquí para que podamos hacerlo todo de una vez. Y solo pulsaré el botón una vez. De acuerdo, si examinamos los datos de navegación y miramos el álbum, el identificador se generó automáticamente, artist_id fue algo que elegimos y el título fue algo que pusimos, así que ahora estamos en muy buena forma. Ahora, lo último que vamos a hacer es probablemente lo más complejo. Pero no lo es. Tenemos y los identificadores son gratuitos, el título son los datos, la longitud, la calificación y el recuento, son solo datos. Y luego tenemos dos flechas, a la derecha, que apuntan al álbum y al género. Álbum y género, así que tenemos dos claves foráneas. Ahora aquí es donde tenemos la replicación ahora. Esos dos van al mismo álbum, y estos dos van al mismo álbum. El mismo género, el mismo género. Está bien tener réplicas siempre y cuando sean números. Esa es realmente la esencia de lo que hemos hecho. Simplemente entramos en un círculo grande. Tomé cadenas replicadas y las convertí en números replicados. Así que están bien. Entonces, lo que vas a hacer es tomar cada una de estas filas que conoces. Bueno, no necesitamos eso. Claro. Toma cada una de estas filas y conocerás la mayoría de los datos. Vamos a poner el título, vamos a poner el album_id, la longitud, la valoración, el recuento. Pon todas esas cosas de forma explícita, esto viene automáticamente, y eso es lo que haremos. title, rating, length, count, album_id, genre_id. Luego tenemos los valores y estos son los dos valores clave externos. Y apuntan a esas filas. Y de nuevo, este es el punto en el tiempo en el que tienes que escribir en una hoja de papel qué eran esos pequeños números si lo hacías a mano. No va a estar tan mal. Por suerte los tengo cortados y pegados, así que todos son fáciles para mí. Y si estás siguiendo los pasos, simplemente corta y pega a estos tipos. Y seré muy perezoso, copiaré las cuatro sentencias SQL, pasaré por aquí, las pegaré y luego pondré un punto y coma, con cuidado, no en cada línea, sino al final de los valores, así que pondré un punto y coma en cada uno de estos tipos. Olvidé ponerle punto y coma a la última. Me voy a dar a la fuga y voy a ver los datos. Y voy a ver los datos del Track. Y ahí estamos. Está todo ahí. En cierto modo, podemos cambiar esto. Y esos son los datos de Track y nuevamente especificamos todas esas cosas. Así que si nos fijamos en todas estas tablas, las hemos construido externamente. Empezamos como en The Genre and the Artist y nos fuimos abriendo camino para poder establecer esos números y luego poder vincularlos a medida que poníamos las cosas en el álbum y luego establecíamos los números. Así que las claves foráneas son los puntos de partida, las claves principales los puntos finales, y en eso trabajamos. Por lo tanto, tenemos la replicación de los números en esta columna, pero no tenemos la replicación de las cadenas. Así que la palabra roca, si nos fijamos en todos estos datos. Vale, ese es un mal ejemplo, olvídalo. La palabra Metal es mejor. Eso no cuenta, es solo un título, no es realmente la palabra Rock. La palabra Metal como género solo aparece una vez en toda la base de datos. Y lo que pasa es como si hubiera un millón de estos, ¿verdad? Un millón. Dices que está bien, ¿cuál es la diferencia? La palabra metal versus lo que sea. Contra el número 2. Si hay millones de ellas, no es solo que ocupen espacio de almacenamiento, sino que tiene que ver con la cantidad que hay que escanear. Por eso, parte de lo que se intenta hacer en las bases de datos es reducir la cantidad de datos que hay que escanear para acceder a un dato concreto. Así que la diferencia entre Metal, que en realidad puede tener 128 caracteres, y un número, que en realidad tiene cuatro caracteres, resulta ser diferente. Y no es que no podamos empezar con unidades de disco. Las unidades de disco son grandes. Es que no podemos escanearlo lo suficientemente rápido ni podemos crear índices para poder superarlo aún más rápido, ¿de acuerdo? Eso es lo que hemos conseguido en esta sección: hemos insertado todos estos datos, hemos enlazado cosas y hemos modelado las relaciones y los puntos de conexión en lugar de replicarlos.